{% extends "base.html" %}
{% load static %}
{% load movies_app_filters_and_tags %}

{% block title %}Profile of {{ user.username }} - DVD Store{% endblock title %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'movies_app/css/movies_app.css' %}">
<h1>Profile of {{ user.username }}</h1>
<div class="container">
  <h2>Personal information</h2>
  <p>
    <strong>First Name: </strong>{{user.first_name}}<br>
    <strong>Last Name: </strong>{{user.last_name}}<br>
    <strong>Username: </strong> {{user.username}}<br>
    <strong>Email: </strong>{{user.email}}<br>
    <strong>Phone: </strong>{{user.customer.address.phone}}<br>
    <strong>Address: </strong>{{user.customer.address}}<br>
    <strong>City: </strong>{{user.customer.address.city}}<br>
    <strong>Country: </strong>{{user.customer.address.city.country}}<br>
  </p>
</div>
<div class="container">
  <h2>Rental information</h2>
  {% if rentals %}
  <div class="container" >
    {% for rental in rentals %}
    <div class="row my-2">
      <div class="col-lg-2">
        <!-- path_to_image is a filter defined in movies_app_filters_and_tags -->
        <img class="film_posters" src="{% static rental.inventory.film.title|path_to_image %}" alt="{{rental.inventory.film.title}}">
      </div>
      <div class="col-lg">
        <p>
          <strong>Title: </strong>{{rental.inventory.film.title}}<br>
          <strong>Rental date: </strong>{{rental.rental_date}}<br>
          <strong>Return date: </strong>{{rental.return_date}}<br>
        </p>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p>
    No rentals yet, <a class="btn btn-primary rounded-pill" href="{% url 'film_list' %}">rent a film!!</a>
  </p>
  {% endif %}
</div>

{% endblock content %}
